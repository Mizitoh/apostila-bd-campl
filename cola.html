<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Colinha</title>
    <link rel="icon" type="image/png" href="./assets/imagens/caderno.png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/css/style.css" />
  </head>
  <body>
    <div class="container">
      <main class="content">
        <h1>Quem n√£o cola, n√£o sai da escola!</h1>

        <h2>Comandos SQL do PostgreSQL mais usados:</h2>

        <div class="mb-5">
          <h3>1. Defini√ß√£o de Dados (DDL) - Estrutura</h3>
          <p>
            Comandos usados para <strong>criar, modificar e remover</strong>
            objetos de banco de dados (tabelas, bancos, √≠ndices, etc.).
          </p>

          <h4>Criar Banco de Dados</h4>
          <pre><code class="sql">
CREATE DATABASE nome_do_banco;
        </code></pre>

          <h4>Criar Tabela</h4>
          <pre><code class="sql">
CREATE TABLE produtos (
    id SERIAL PRIMARY KEY, -- Chave prim√°ria auto-increment√°vel
    nome VARCHAR(100) NOT NULL,
    preco DECIMAL(10, 2) DEFAULT 0.00,
    estoque INTEGER CHECK (estoque >= 0)
);
        </code></pre>

          <h4>Alterar Tabela (Adicionar Coluna)</h4>
          <pre><code class="sql">
ALTER TABLE produtos
ADD COLUMN descricao TEXT;
        </code></pre>

          <h4>Alterar Tabela (constraints)</h4>
          <pre><code class="sql">
-- Tornar uma coluna NOT NULL
ALTER TABLE produtos
ALTER COLUMN descricao SET NOT NULL;

-- Remover NOT NULL
ALTER TABLE produtos
ALTER COLUMN descricao DROP NOT NULL;

-- Adicionar UNIQUE (constraint nomeada)
ALTER TABLE produtos
ADD CONSTRAINT uq_produtos_nome UNIQUE (nome);

-- Remover UNIQUE
ALTER TABLE produtos
DROP CONSTRAINT uq_produtos_nome;

-- Adicionar CHECK
ALTER TABLE produtos
ADD CONSTRAINT chk_estoque_nonneg CHECK (estoque >= 0);

-- Remover CHECK
ALTER TABLE produtos
DROP CONSTRAINT chk_estoque_nonneg;

-- Definir DEFAULT
ALTER TABLE produtos
ALTER COLUMN preco SET DEFAULT 0.00;

-- Remover DEFAULT
ALTER TABLE produtos
ALTER COLUMN preco DROP DEFAULT;

-- Adicionar FOREIGN KEY (constraint nomeada)
ALTER TABLE cursos
ADD CONSTRAINT fk_cursos_professor FOREIGN KEY (professor_id)
REFERENCES professores(id) ON DELETE RESTRICT;

-- Remover FOREIGN KEY
ALTER TABLE cursos
DROP CONSTRAINT fk_cursos_professor;

-- Adicionar PRIMARY KEY (quando necess√°rio)
ALTER TABLE produtos
ADD CONSTRAINT pk_produtos PRIMARY KEY (id);

-- Remover PRIMARY KEY
ALTER TABLE produtos
DROP CONSTRAINT pk_produtos;
          </code></pre>

          <h4>Excluir Tabela</h4>
          <pre><code class="sql">
DROP TABLE produtos;
-- DROP TABLE IF EXISTS produtos CASCADE; -- Forma mais segura
        </code></pre>
        </div>

        <hr />

        <div class="mb-5">
          <h3>2. Manipula√ß√£o de Dados (DML) - Registros</h3>
          <p>
            Comandos usados para
            <strong>inserir, selecionar, atualizar e remover</strong> dados
            dentro das tabelas.
          </p>

          <h4>Inserir Dados (C - Create)</h4>
          <pre><code class="sql">
INSERT INTO produtos (nome, preco, estoque)
VALUES ('Notebook Gamer', 5500.00, 10);
        </code></pre>

          <h4>Selecionar Dados (R - Read)</h4>
          <pre><code class="sql">
-- Seleciona todas as colunas de todos os registros
SELECT * FROM produtos;

-- Seleciona colunas espec√≠ficas com filtro
SELECT nome, preco FROM produtos
WHERE preco > 5000.00
ORDER BY preco DESC;

-- Contagem de registros (muito comum)
SELECT COUNT(*) FROM produtos;
        </code></pre>

          <h4>Atualizar Dados (U - Update)</h4>
          <pre><code class="sql">
UPDATE produtos
SET preco = 6000.00, estoque = 5
WHERE id = 1;
        </code></pre>

          <h4>Remover Dados (D - Delete)</h4>
          <pre><code class="sql">
-- ATEN√á√ÉO: Se n√£o usar WHERE, apaga TUDO na tabela!
DELETE FROM produtos
WHERE estoque = 0;
        </code></pre>
        </div>

        <hr />

        <div class="mb-5">
          <h3>3. Fun√ß√µes para Manipula√ß√£o de Strings (Texto) üìù</h3>
          <p>
            O PostgreSQL oferece diversas fun√ß√µes para trabalhar com textos,
            extraindo informa√ß√µes ou formatando dados.
          </p>

          <h4>Converter para Mai√∫sculas e Min√∫sculas</h4>
          <pre><code class="sql">
SELECT UPPER('texto em mai√∫sculas'),
       LOWER('TEXTO EM min√∫sculas');
        </code></pre>

          <h4>Concatenar Strings (Juntar Textos)</h4>
          <pre><code class="sql">
-- O operador "||" √© o mais usado no PostgreSQL
SELECT 'Produto: ' || nome AS nome_completo_produto
FROM produtos
WHERE id = 1;
        </code></pre>

          <h4>Extrair Substring e Comprimento</h4>
          <pre><code class="sql">
SELECT SUBSTRING('PostgreSQL' FROM 5 FOR 4), -- Retorna 'greS'
       LENGTH('PostgreSQL') AS tamanho_string;  -- Retorna 10
        </code></pre>
        </div>

        <hr />

        <div class="mb-5">
          <h3>4. Fun√ß√µes para C√°lculos e Agrega√ß√µes (N√∫meros) üî¢</h3>
          <p>
            Fun√ß√µes essenciais para realizar opera√ß√µes matem√°ticas e sumarizar
            (agregar) dados num√©ricos.
          </p>

          <h4>Fun√ß√µes de Agrega√ß√£o (M√©dia, Soma, M√≠nimo, M√°ximo)</h4>
          <p>Geralmente usadas para calcular valores de um grupo de linhas.</p>
          <pre><code class="sql">
SELECT AVG(preco) AS preco_medio,
       SUM(estoque) AS estoque_total,
       MAX(preco) AS preco_mais_alto
FROM produtos;
        </code></pre>

          <h4>C√°lculos Matem√°ticos B√°sicos</h4>
          <p>
            C√°lculos podem ser feitos diretamente nas colunas (ex: calcular 10%
            de desconto).
          </p>
          <pre><code class="sql">
SELECT nome,
       preco * 0.90 AS preco_com_desconto,  -- 10% de desconto
       ROUND(SQRT(16), 0) AS raiz_quadrada;  -- Raiz quadrada de 16, arredondado
FROM produtos;
        </code></pre>
          <hr />

          <div class="mb-5">
            <h3>5. Fun√ß√µes Condicionais</h3>
            <h4>Estrutura Condicional (CASE WHEN)</h4>
            <p>
              O <code>CASE WHEN</code> √© usado para implementar l√≥gica
              condicional (se/ent√£o) em consultas, criando novas colunas com
              base no valor de outras.
            </p>
            <pre><code class="sql">
-- Classifica os produtos com base no pre√ßo
SELECT 
    nome, 
    preco,
    CASE 
        WHEN preco > 5000.00 THEN 'Alto Valor'
        WHEN preco > 1000.00 THEN 'Valor M√©dio'
        ELSE 'B√°sico'
    END AS classificacao_preco
FROM 
    produtos;
        </code></pre>
          </div>
        </div>

        <hr />

        <h2>Tradu√ß√£o e breve explica√ß√£o dos comandos:</h2>

        <table class="table table-striped">
          <thead>
            <tr>
              <th>Comando SQL</th>
              <th>Explica√ß√£o/Uso</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>CREATE</strong></td>
              <td>
                Cria um novo objeto (banco de dados, tabela, √≠ndice, etc.).
              </td>
            </tr>
            <tr>
              <td><strong>ALTER</strong></td>
              <td>
                Modifica a estrutura de um objeto existente (ex: adicionar uma
                coluna √† tabela).
              </td>
            </tr>
            <tr>
              <td><strong>DROP</strong></td>
              <td>
                Exclui permanentemente um objeto (tabela, banco de dados, etc.).
              </td>
            </tr>
            <tr>
              <td><strong>SELECT</strong></td>
              <td>
                Recupera (consulta) dados de uma ou mais tabelas. √â o comando de
                leitura (Read).
              </td>
            </tr>
            <tr>
              <td><strong>INSERT INTO</strong></td>
              <td>
                Adiciona novos registros (linhas) em uma tabela. √â o comando de
                cria√ß√£o (Create).
              </td>
            </tr>
            <tr>
              <td><strong>UPDATE</strong></td>
              <td>
                Modifica dados existentes em uma tabela. √â o comando de
                atualiza√ß√£o (Update).
              </td>
            </tr>
            <tr>
              <td><strong>DELETE FROM</strong></td>
              <td>
                Remove registros (linhas) de uma tabela. √â o comando de exclus√£o
                (Delete).
              </td>
            </tr>
            <tr>
              <td><strong>WHERE</strong></td>
              <td>
                Usado com <code>SELECT</code>, <code>UPDATE</code> ou
                <code>DELETE</code> para aplicar <strong>filtros</strong> e
                especificar quais linhas ser√£o afetadas.
              </td>
            </tr>
            <tr>
              <td><strong>ORDER BY</strong></td>
              <td>
                Classifica o resultado de uma consulta <code>SELECT</code> (ex:
                `ASC` para ascendente, `DESC` para descendente).
              </td>
            </tr>
            <tr>
              <td><strong>JOIN</strong></td>
              <td>
                Combina linhas de duas ou mais tabelas com base em uma coluna
                relacionada entre elas (essencial para bancos relacionais).
              </td>
            </tr>
            <tr>
              <td><strong>UPPER / LOWER</strong></td>
              <td>
                Fun√ß√µes de <strong>String</strong>: Converte o texto para
                <strong>MAI√öSCULAS</strong> ou <strong>min√∫sculas</strong>.
              </td>
            </tr>
            <tr>
              <td><strong>|| (Concatenador)</strong></td>
              <td>
                Operador de <strong>String</strong>: Junta (concatena) duas ou
                mais strings de texto.
              </td>
            </tr>
            <tr>
              <td><strong>SUBSTRING / LENGTH</strong></td>
              <td>
                Fun√ß√µes de <strong>String</strong>:
                <strong>Extrai</strong> parte de um texto ou retorna seu
                <strong>comprimento</strong> (n√∫mero de caracteres).
              </td>
            </tr>
            <tr>
              <td><strong>SUM / AVG / MAX / MIN</strong></td>
              <td>
                Fun√ß√µes de <strong>Agrega√ß√£o</strong>: Calcula a
                <strong>Soma</strong>, <strong>M√©dia</strong>, valor
                <strong>M√°ximo</strong> e <strong>M√≠nimo</strong> de um conjunto
                de valores.
              </td>
            </tr>
            <tr>
              <td><strong>ROUND / SQRT</strong></td>
              <td>
                Fun√ß√µes de <strong>C√°lculo</strong>:
                <strong>Arredonda</strong> um n√∫mero ou calcula sua
                <strong>Raiz Quadrada</strong>.
              </td>
            </tr>
            <tr>
              <td><strong>CASE WHEN</strong></td>
              <td>
                Estrutura <strong>Condicional</strong>: Permite aplicar l√≥gica
                <strong>"se/ent√£o"</strong>
                para retornar diferentes valores com base em condi√ß√µes.
              </td>
            </tr>
          </tbody>
        </table>

        <hr />

        <h2>Tipos de Dados no PostgreSQL</h2>

        <h5>Tipos Num√©ricos</h5>
        <ul>
          <li>
            <strong>INTEGER</strong> ou <strong>INT</strong> - N√∫meros inteiros
            (-2 bilh√µes a +2 bilh√µes)
          </li>
          <li>
            <strong>BIGINT</strong> - N√∫meros inteiros grandes (at√© 9
            quintilh√µes)
          </li>
          <li>
            <strong>SMALLINT</strong> - N√∫meros inteiros pequenos (-32.768 a
            +32.767)
          </li>
          <li>
            <strong>DECIMAL</strong> ou <strong>NUMERIC</strong> - N√∫meros com
            casas decimais exatas (dinheiro, pre√ßos)
          </li>
          <li><strong>REAL</strong> - N√∫meros decimais com precis√£o simples</li>
          <li>
            <strong>DOUBLE PRECISION</strong> - N√∫meros decimais com precis√£o
            dupla
          </li>
          <li>
            <strong>SERIAL</strong> - N√∫mero inteiro que aumenta automaticamente
            (ideal para IDs)
          </li>
        </ul>

        <h5>Tipos de Texto</h5>
        <ul>
          <li>
            <strong>VARCHAR(n)</strong> - Texto com tamanho m√°ximo definido (ex:
            VARCHAR(100))
          </li>
          <li>
            <strong>CHAR(n)</strong> - Texto com tamanho fixo (completa com
            espa√ßos)
          </li>
          <li><strong>TEXT</strong> - Texto sem limite de tamanho</li>
        </ul>

        <h5>Tipos de Data e Hora</h5>
        <ul>
          <li><strong>DATE</strong> - Apenas data (ex: 2025-10-26)</li>
          <li><strong>TIME</strong> - Apenas hora (ex: 14:30:00)</li>
          <li><strong>TIMESTAMP</strong> - Data e hora juntos</li>
          <li>
            <strong>INTERVAL</strong> - Per√≠odo de tempo (ex: 5 dias, 3 horas)
          </li>
        </ul>

        <h5>Tipos L√≥gicos</h5>
        <ul>
          <li><strong>BOOLEAN</strong> - Verdadeiro (TRUE) ou Falso (FALSE)</li>
        </ul>

        <h5>Tipos Especiais</h5>
        <ul>
          <li>
            <strong>JSON</strong> / <strong>JSONB</strong> - Armazena dados no
            formato JSON
          </li>
          <li><strong>UUID</strong> - Identificador √∫nico universal</li>
          <li><strong>ARRAY</strong> - Lista de valores do mesmo tipo</li>
          <li><strong>BYTEA</strong> - Dados bin√°rios (arquivos, imagens)</li>
        </ul>

        <hr />

        <h2>Menu</h2>
        <div class="mt-4">
          <a href="./index.html" class="btn btn-outline-secondary"
            >‚Üê Voltar ao In√≠cio</a
          >
          <a href="./aulas.html" class="btn btn-outline-secondary"
            >‚Üê Voltar √†s aulas por data</a
          >
        </div>
      </main>
    </div>

    <script src="./assets/js/sidebar.js"></script>
    <script src="./assets/js/table-of-contents.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </body>
</html>
